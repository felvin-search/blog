"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[85],{8323:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return l},assets:function(){return h},toc:function(){return d},default:function(){return c}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=["components"],s={title:"How I created an Instant App of all Instant Apps!",description:"My Internship Project",slug:"creating-felvin-instant-apps-marketplace",authors:["N-Shar-ma"],tags:[]},p=void 0,l={permalink:"/creating-felvin-instant-apps-marketplace",editUrl:"https://github.com/felvin-search/blog/edit/master/blog/2021-12-15-new-marketplace/index.md",source:"@site/blog/2021-12-15-new-marketplace/index.md",title:"How I created an Instant App of all Instant Apps!",description:"My Internship Project",date:"2021-12-15T00:00:00.000Z",formattedDate:"December 15, 2021",tags:[],readingTime:2.835,truncated:!1,authors:[{name:"Nehal Sharma",title:"Software Engineering Intern",url:"https://github.com/N-Shar-ma",imageURL:"https://github.com/N-Shar-ma.png",key:"N-Shar-ma"}],nextItem:{title:"9th Dec Release Day - New apps, new contributors, bigger team and more",permalink:"/9th-dec-release-day"}},h={authorsImageUrls:[void 0]},d=[{value:"The Actual Issue",id:"the-actual-issue",children:[]},{value:"Figuring out the Root of the Problem:",id:"figuring-out-the-root-of-the-problem",children:[]},{value:"A Surprise Bonus",id:"a-surprise-bonus",children:[]}],u={toc:d};function c(e){var t=e.components,a=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Until now, there was no obvious and easy way to appreciate the variety and ever growing number of the open source Instant Apps Felvin has to offer. I understood how important ",(0,o.kt)("strong",{parentName:"p"},"an Instant Apps' Marketplace, a place where you could view and try out all the available apps in a swift and easy manner"),", would be, and hence this is the problem I sought to fix during my internship with Felvin!"),(0,o.kt)("h2",{id:"the-actual-issue"},"The Actual Issue"),(0,o.kt)("p",null,"To put it less glamorously, creating an autogenerated and always updated marketplace boiled down to this: ",(0,o.kt)("strong",{parentName:"p"},"Fix the bundling of the apps npm package and fix those import errors that sometimes showed up, sometimes didn't.")),(0,o.kt)("h2",{id:"figuring-out-the-root-of-the-problem"},"Figuring out the Root of the Problem:"),(0,o.kt)("p",null,"Taking the most obvious first step, I searched the error, and as expected, multiple ways showed up which worked differently for different projects. And no amount of searching could explain the reason this error occurred only sometimes. I then turned to experimentation, and spent a lot of time importing the apps package in different environments, while also reading about how bundling works and the intricacies of imports and exports. I tried importing apps individually too, where I saw ",(0,o.kt)("em",{parentName:"p"},"another")," new error pop up! Though it was admittedly frustrating to spend days documenting the cases imports worked and the cases they didn't, without any measurable outcome, this method did pay off and granted me a moment of near enlightenment when I observed a pattern and realized that the apps package import only failed in node / server side environments! The new error too, I noticed, only cropped up when the app imported had any asynchronous functionality. "),(0,o.kt)("p",null,"Once I had figured out the cause of the errors, the rest was relatively smooth sailing. The new error was an easy fix, and I made a small tweak in the app's bundling to ensure it supported async functions. For the marketplace, we are using docusaurus for the entire Felvin Docs website, which is server side rendered by default. I searched for a way to have a part of it be client side rendered instead, and came upon the ",(0,o.kt)("inlineCode",{parentName:"p"},"BrowserOnly")," component which allowed just that! Using that, the import worked and I was quickly able to modify the pre-existing but static marketplace with only a tenth of all apps, to instead use the imported data. There was already a GitHub Workflow ready to update the apps package to its latest version every midnight. So now, the client side rendering of the marketplace, along with the daily automated updates ensures that ",(0,o.kt)("strong",{parentName:"p"},"the ",(0,o.kt)("a",{parentName:"strong",href:"https://docs.felvin.com/instant-apps/marketplace"},"marketplace")," is dynamic and updated, with a new Instant App showing up on the marketplace within 24 hours!")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/68962290/145682424-451040cd-67b9-4383-a560-1c34d840c3a1.png",alt:"Felvin Instant Apps Marketplace"})),(0,o.kt)("h2",{id:"a-surprise-bonus"},"A Surprise Bonus"),(0,o.kt)("p",null,"Until I made the Marketplace self updating, I thought of extracting the data of all current Instant Apps to have a somewhat updated Marketplace in its lieu. While trying out ways to do so, I ended up making a temporary (or so I initially thought) Instant App to provide me the current data of all the apps in JSON format. Soon I realized that with some UI changes, this Instant App can be used as an alternative showcase for all Instant Apps! Now, anytime you ",(0,o.kt)("del",{parentName:"p"},"search")," ",(0,o.kt)("em",{parentName:"p"},"felvin"),' something like "',(0,o.kt)("a",{parentName:"p",href:"https://felvin.com/search?q=Felvin%20Instant%20Apps"},"Felvin Instant Apps"),'" or "',(0,o.kt)("a",{parentName:"p",href:"https://felvin.com/search?q=what%20instant%20apps%20are%20available"},"what instant apps are available"),'" a carousel showcasing all the Instant Apps will appear. '),(0,o.kt)("p",null,"An Instant App of Instant Apps... isn't that so meta?!"))}c.isMDXComponent=!0}}]);